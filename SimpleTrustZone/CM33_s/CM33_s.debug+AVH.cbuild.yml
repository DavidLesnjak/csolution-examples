build:
  solution: ../SimpleTZ.csolution.yml
  project: CM33_s.cproject.yml
  context: CM33_s.debug+AVH
  compiler: AC6
  device: ARMCM33_DSP_FP_TZ
  processor:
    fpu: on
    trustzone: secure
  packs:
    - pack: ARM::CMSIS@5.9.0
      path: ${CMSIS_PACK_ROOT}/ARM/CMSIS/5.9.0
    - pack: Keil::ARM_Compiler@1.7.2
      path: ${CMSIS_PACK_ROOT}/Keil/ARM_Compiler/1.7.2
  optimize: none
  debug: on
  misc:
    ASM:
      - -masm=auto
    C:
      - -std=gnu11
      - -Wno-macro-redefined
      - -Wno-pragma-pack
      - -Wno-parentheses-equality
    CPP:
      - -Wno-macro-redefined
      - -Wno-pragma-pack
      - -Wno-parentheses-equality
    Link:
      - --entry=Reset_Handler
      - --info summarysizes
      - --map
  define:
    - ARMCM33_DSP_FP_TZ
    - _RTE_
  add-path:
    - RTE/Compiler
    - RTE/Device/ARMCM33_DSP_FP_TZ
    - RTE/_debug_AVH
    - ${CMSIS_PACK_ROOT}/ARM/CMSIS/5.9.0/CMSIS/Core/Include
    - ${CMSIS_PACK_ROOT}/ARM/CMSIS/5.9.0/Device/ARM/ARMCM33/Include
    - ${CMSIS_PACK_ROOT}/Keil/ARM_Compiler/1.7.2/Include
  output-type: exe
  output-dirs:
    gendir: ..
    intdir: ../tmp/CM33_s/AVH/debug
    outdir: ../out/CM33_s/AVH/debug
    rtedir: RTE
  components:
    - component: ARM::CMSIS:CORE@5.6.0
      condition: ARMv6_7_8-M Device
      from-pack: ARM::CMSIS@5.9.0
      selected-by: CMSIS:CORE
    - component: ARM::Device:Startup&C Startup@2.1.0
      condition: ARMCM33 CMSIS
      from-pack: ARM::CMSIS@5.9.0
      selected-by: Device:Startup&C Startup
      files:
        - file: RTE/Device/ARMCM33_DSP_FP_TZ/partition_ARMCM33.h
          category: header
          attr: config
          version: 1.1.1
        - file: RTE/Device/ARMCM33_DSP_FP_TZ/ARMCM33_ac6_s.sct
          category: linkerScript
          attr: config
          version: 1.1.0
        - file: RTE/Device/ARMCM33_DSP_FP_TZ/startup_ARMCM33.c
          category: sourceC
          attr: config
          version: 2.1.0
        - file: RTE/Device/ARMCM33_DSP_FP_TZ/system_ARMCM33.c
          category: sourceC
          attr: config
          version: 1.0.1
    - component: Keil::Compiler&ARM Compiler:Event Recorder&DAP@1.5.1
      condition: Cortex-M Device
      from-pack: Keil::ARM_Compiler@1.7.2
      selected-by: Keil::Compiler&ARM Compiler:Event Recorder&DAP
      files:
        - file: ${CMSIS_PACK_ROOT}/Keil/ARM_Compiler/1.7.2/Source/EventRecorder.c
          category: source
        - file: RTE/Compiler/EventRecorderConf.h
          category: header
          attr: config
          version: 1.1.0
  groups:
    - group: Secure Code
      files:
        - file: main_s.c
          category: sourceC
    - group: Interface
      files:
        - file: interface.c
          category: sourceC
    - group: Documentation
      files:
        - file: Abstract.txt
          category: doc
  constructed-files:
    - file: RTE/_debug_AVH/RTE_Components.h
      category: header
